{"version":3,"file":"main.js","mappings":"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","sources":["webpack://FITSioAPI/./node_modules/node-fetch/browser.js","webpack://FITSioAPI/./node_modules/path/path.js","webpack://FITSioAPI/./node_modules/process/browser.js","webpack://FITSioAPI/./node_modules/util/node_modules/inherits/inherits_browser.js","webpack://FITSioAPI/./node_modules/util/support/isBufferBrowser.js","webpack://FITSioAPI/./node_modules/util/util.js","webpack://FITSioAPI/webpack/bootstrap","webpack://FITSioAPI/webpack/runtime/compat get default export","webpack://FITSioAPI/webpack/runtime/define property getters","webpack://FITSioAPI/webpack/runtime/global","webpack://FITSioAPI/webpack/runtime/hasOwnProperty shorthand","webpack://FITSioAPI/webpack/runtime/make namespace object","webpack://FITSioAPI/./src/model/FITSHeaderItem.ts","webpack://FITSioAPI/./src/ParseUtils.ts","webpack://FITSioAPI/./src/FITSWriter.ts","webpack://FITSioAPI/./src/ParsePayload.ts","webpack://FITSioAPI/./src/model/FITSHeader.ts","webpack://FITSioAPI/./src/ParseHeader.ts","webpack://FITSioAPI/./src/FITSParser.ts","webpack://FITSioAPI/./src/index.ts"],"sourcesContent":["\"use strict\";\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar global = getGlobal();\n\nmodule.exports = exports = global.fetch;\n\n// Needed for TypeScript and Webpack.\nif (global.fetch) {\n\texports.default = global.fetch.bind(global);\n}\n\nexports.Headers = global.Headers;\nexports.Request = global.Request;\nexports.Response = global.Response;","// Copyright Joyent, Inc. and other Node contributors.\r\n//\r\n// Permission is hereby granted, free of charge, to any person obtaining a\r\n// copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to permit\r\n// persons to whom the Software is furnished to do so, subject to the\r\n// following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be included\r\n// in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\r\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\r\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\r\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\r\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\r\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n'use strict';\r\n\r\n\r\nvar isWindows = process.platform === 'win32';\r\nvar util = require('util');\r\n\r\n\r\n// resolves . and .. elements in a path array with directory names there\r\n// must be no slashes or device names (c:\\) in the array\r\n// (so also no leading and trailing slashes - it does not distinguish\r\n// relative and absolute paths)\r\nfunction normalizeArray(parts, allowAboveRoot) {\r\n  var res = [];\r\n  for (var i = 0; i < parts.length; i++) {\r\n    var p = parts[i];\r\n\r\n    // ignore empty parts\r\n    if (!p || p === '.')\r\n      continue;\r\n\r\n    if (p === '..') {\r\n      if (res.length && res[res.length - 1] !== '..') {\r\n        res.pop();\r\n      } else if (allowAboveRoot) {\r\n        res.push('..');\r\n      }\r\n    } else {\r\n      res.push(p);\r\n    }\r\n  }\r\n\r\n  return res;\r\n}\r\n\r\n// returns an array with empty elements removed from either end of the input\r\n// array or the original array if no elements need to be removed\r\nfunction trimArray(arr) {\r\n  var lastIndex = arr.length - 1;\r\n  var start = 0;\r\n  for (; start <= lastIndex; start++) {\r\n    if (arr[start])\r\n      break;\r\n  }\r\n\r\n  var end = lastIndex;\r\n  for (; end >= 0; end--) {\r\n    if (arr[end])\r\n      break;\r\n  }\r\n\r\n  if (start === 0 && end === lastIndex)\r\n    return arr;\r\n  if (start > end)\r\n    return [];\r\n  return arr.slice(start, end + 1);\r\n}\r\n\r\n// Regex to split a windows path into three parts: [*, device, slash,\r\n// tail] windows-only\r\nvar splitDeviceRe =\r\n    /^([a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/]+[^\\\\\\/]+)?([\\\\\\/])?([\\s\\S]*?)$/;\r\n\r\n// Regex to split the tail part of the above into [*, dir, basename, ext]\r\nvar splitTailRe =\r\n    /^([\\s\\S]*?)((?:\\.{1,2}|[^\\\\\\/]+?|)(\\.[^.\\/\\\\]*|))(?:[\\\\\\/]*)$/;\r\n\r\nvar win32 = {};\r\n\r\n// Function to split a filename into [root, dir, basename, ext]\r\nfunction win32SplitPath(filename) {\r\n  // Separate device+slash from tail\r\n  var result = splitDeviceRe.exec(filename),\r\n      device = (result[1] || '') + (result[2] || ''),\r\n      tail = result[3] || '';\r\n  // Split the tail into dir, basename and extension\r\n  var result2 = splitTailRe.exec(tail),\r\n      dir = result2[1],\r\n      basename = result2[2],\r\n      ext = result2[3];\r\n  return [device, dir, basename, ext];\r\n}\r\n\r\nfunction win32StatPath(path) {\r\n  var result = splitDeviceRe.exec(path),\r\n      device = result[1] || '',\r\n      isUnc = !!device && device[1] !== ':';\r\n  return {\r\n    device: device,\r\n    isUnc: isUnc,\r\n    isAbsolute: isUnc || !!result[2], // UNC paths are always absolute\r\n    tail: result[3]\r\n  };\r\n}\r\n\r\nfunction normalizeUNCRoot(device) {\r\n  return '\\\\\\\\' + device.replace(/^[\\\\\\/]+/, '').replace(/[\\\\\\/]+/g, '\\\\');\r\n}\r\n\r\n// path.resolve([from ...], to)\r\nwin32.resolve = function() {\r\n  var resolvedDevice = '',\r\n      resolvedTail = '',\r\n      resolvedAbsolute = false;\r\n\r\n  for (var i = arguments.length - 1; i >= -1; i--) {\r\n    var path;\r\n    if (i >= 0) {\r\n      path = arguments[i];\r\n    } else if (!resolvedDevice) {\r\n      path = process.cwd();\r\n    } else {\r\n      // Windows has the concept of drive-specific current working\r\n      // directories. If we've resolved a drive letter but not yet an\r\n      // absolute path, get cwd for that drive. We're sure the device is not\r\n      // an unc path at this points, because unc paths are always absolute.\r\n      path = process.env['=' + resolvedDevice];\r\n      // Verify that a drive-local cwd was found and that it actually points\r\n      // to our drive. If not, default to the drive's root.\r\n      if (!path || path.substr(0, 3).toLowerCase() !==\r\n          resolvedDevice.toLowerCase() + '\\\\') {\r\n        path = resolvedDevice + '\\\\';\r\n      }\r\n    }\r\n\r\n    // Skip empty and invalid entries\r\n    if (!util.isString(path)) {\r\n      throw new TypeError('Arguments to path.resolve must be strings');\r\n    } else if (!path) {\r\n      continue;\r\n    }\r\n\r\n    var result = win32StatPath(path),\r\n        device = result.device,\r\n        isUnc = result.isUnc,\r\n        isAbsolute = result.isAbsolute,\r\n        tail = result.tail;\r\n\r\n    if (device &&\r\n        resolvedDevice &&\r\n        device.toLowerCase() !== resolvedDevice.toLowerCase()) {\r\n      // This path points to another device so it is not applicable\r\n      continue;\r\n    }\r\n\r\n    if (!resolvedDevice) {\r\n      resolvedDevice = device;\r\n    }\r\n    if (!resolvedAbsolute) {\r\n      resolvedTail = tail + '\\\\' + resolvedTail;\r\n      resolvedAbsolute = isAbsolute;\r\n    }\r\n\r\n    if (resolvedDevice && resolvedAbsolute) {\r\n      break;\r\n    }\r\n  }\r\n\r\n  // Convert slashes to backslashes when `resolvedDevice` points to an UNC\r\n  // root. Also squash multiple slashes into a single one where appropriate.\r\n  if (isUnc) {\r\n    resolvedDevice = normalizeUNCRoot(resolvedDevice);\r\n  }\r\n\r\n  // At this point the path should be resolved to a full absolute path,\r\n  // but handle relative paths to be safe (might happen when process.cwd()\r\n  // fails)\r\n\r\n  // Normalize the tail path\r\n  resolvedTail = normalizeArray(resolvedTail.split(/[\\\\\\/]+/),\r\n                                !resolvedAbsolute).join('\\\\');\r\n\r\n  return (resolvedDevice + (resolvedAbsolute ? '\\\\' : '') + resolvedTail) ||\r\n         '.';\r\n};\r\n\r\n\r\nwin32.normalize = function(path) {\r\n  var result = win32StatPath(path),\r\n      device = result.device,\r\n      isUnc = result.isUnc,\r\n      isAbsolute = result.isAbsolute,\r\n      tail = result.tail,\r\n      trailingSlash = /[\\\\\\/]$/.test(tail);\r\n\r\n  // Normalize the tail path\r\n  tail = normalizeArray(tail.split(/[\\\\\\/]+/), !isAbsolute).join('\\\\');\r\n\r\n  if (!tail && !isAbsolute) {\r\n    tail = '.';\r\n  }\r\n  if (tail && trailingSlash) {\r\n    tail += '\\\\';\r\n  }\r\n\r\n  // Convert slashes to backslashes when `device` points to an UNC root.\r\n  // Also squash multiple slashes into a single one where appropriate.\r\n  if (isUnc) {\r\n    device = normalizeUNCRoot(device);\r\n  }\r\n\r\n  return device + (isAbsolute ? '\\\\' : '') + tail;\r\n};\r\n\r\n\r\nwin32.isAbsolute = function(path) {\r\n  return win32StatPath(path).isAbsolute;\r\n};\r\n\r\nwin32.join = function() {\r\n  var paths = [];\r\n  for (var i = 0; i < arguments.length; i++) {\r\n    var arg = arguments[i];\r\n    if (!util.isString(arg)) {\r\n      throw new TypeError('Arguments to path.join must be strings');\r\n    }\r\n    if (arg) {\r\n      paths.push(arg);\r\n    }\r\n  }\r\n\r\n  var joined = paths.join('\\\\');\r\n\r\n  // Make sure that the joined path doesn't start with two slashes, because\r\n  // normalize() will mistake it for an UNC path then.\r\n  //\r\n  // This step is skipped when it is very clear that the user actually\r\n  // intended to point at an UNC path. This is assumed when the first\r\n  // non-empty string arguments starts with exactly two slashes followed by\r\n  // at least one more non-slash character.\r\n  //\r\n  // Note that for normalize() to treat a path as an UNC path it needs to\r\n  // have at least 2 components, so we don't filter for that here.\r\n  // This means that the user can use join to construct UNC paths from\r\n  // a server name and a share name; for example:\r\n  //   path.join('//server', 'share') -> '\\\\\\\\server\\\\share\\')\r\n  if (!/^[\\\\\\/]{2}[^\\\\\\/]/.test(paths[0])) {\r\n    joined = joined.replace(/^[\\\\\\/]{2,}/, '\\\\');\r\n  }\r\n\r\n  return win32.normalize(joined);\r\n};\r\n\r\n\r\n// path.relative(from, to)\r\n// it will solve the relative path from 'from' to 'to', for instance:\r\n// from = 'C:\\\\orandea\\\\test\\\\aaa'\r\n// to = 'C:\\\\orandea\\\\impl\\\\bbb'\r\n// The output of the function should be: '..\\\\..\\\\impl\\\\bbb'\r\nwin32.relative = function(from, to) {\r\n  from = win32.resolve(from);\r\n  to = win32.resolve(to);\r\n\r\n  // windows is not case sensitive\r\n  var lowerFrom = from.toLowerCase();\r\n  var lowerTo = to.toLowerCase();\r\n\r\n  var toParts = trimArray(to.split('\\\\'));\r\n\r\n  var lowerFromParts = trimArray(lowerFrom.split('\\\\'));\r\n  var lowerToParts = trimArray(lowerTo.split('\\\\'));\r\n\r\n  var length = Math.min(lowerFromParts.length, lowerToParts.length);\r\n  var samePartsLength = length;\r\n  for (var i = 0; i < length; i++) {\r\n    if (lowerFromParts[i] !== lowerToParts[i]) {\r\n      samePartsLength = i;\r\n      break;\r\n    }\r\n  }\r\n\r\n  if (samePartsLength == 0) {\r\n    return to;\r\n  }\r\n\r\n  var outputParts = [];\r\n  for (var i = samePartsLength; i < lowerFromParts.length; i++) {\r\n    outputParts.push('..');\r\n  }\r\n\r\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\r\n\r\n  return outputParts.join('\\\\');\r\n};\r\n\r\n\r\nwin32._makeLong = function(path) {\r\n  // Note: this will *probably* throw somewhere.\r\n  if (!util.isString(path))\r\n    return path;\r\n\r\n  if (!path) {\r\n    return '';\r\n  }\r\n\r\n  var resolvedPath = win32.resolve(path);\r\n\r\n  if (/^[a-zA-Z]\\:\\\\/.test(resolvedPath)) {\r\n    // path is local filesystem path, which needs to be converted\r\n    // to long UNC path.\r\n    return '\\\\\\\\?\\\\' + resolvedPath;\r\n  } else if (/^\\\\\\\\[^?.]/.test(resolvedPath)) {\r\n    // path is network UNC path, which needs to be converted\r\n    // to long UNC path.\r\n    return '\\\\\\\\?\\\\UNC\\\\' + resolvedPath.substring(2);\r\n  }\r\n\r\n  return path;\r\n};\r\n\r\n\r\nwin32.dirname = function(path) {\r\n  var result = win32SplitPath(path),\r\n      root = result[0],\r\n      dir = result[1];\r\n\r\n  if (!root && !dir) {\r\n    // No dirname whatsoever\r\n    return '.';\r\n  }\r\n\r\n  if (dir) {\r\n    // It has a dirname, strip trailing slash\r\n    dir = dir.substr(0, dir.length - 1);\r\n  }\r\n\r\n  return root + dir;\r\n};\r\n\r\n\r\nwin32.basename = function(path, ext) {\r\n  var f = win32SplitPath(path)[2];\r\n  // TODO: make this comparison case-insensitive on windows?\r\n  if (ext && f.substr(-1 * ext.length) === ext) {\r\n    f = f.substr(0, f.length - ext.length);\r\n  }\r\n  return f;\r\n};\r\n\r\n\r\nwin32.extname = function(path) {\r\n  return win32SplitPath(path)[3];\r\n};\r\n\r\n\r\nwin32.format = function(pathObject) {\r\n  if (!util.isObject(pathObject)) {\r\n    throw new TypeError(\r\n        \"Parameter 'pathObject' must be an object, not \" + typeof pathObject\r\n    );\r\n  }\r\n\r\n  var root = pathObject.root || '';\r\n\r\n  if (!util.isString(root)) {\r\n    throw new TypeError(\r\n        \"'pathObject.root' must be a string or undefined, not \" +\r\n        typeof pathObject.root\r\n    );\r\n  }\r\n\r\n  var dir = pathObject.dir;\r\n  var base = pathObject.base || '';\r\n  if (!dir) {\r\n    return base;\r\n  }\r\n  if (dir[dir.length - 1] === win32.sep) {\r\n    return dir + base;\r\n  }\r\n  return dir + win32.sep + base;\r\n};\r\n\r\n\r\nwin32.parse = function(pathString) {\r\n  if (!util.isString(pathString)) {\r\n    throw new TypeError(\r\n        \"Parameter 'pathString' must be a string, not \" + typeof pathString\r\n    );\r\n  }\r\n  var allParts = win32SplitPath(pathString);\r\n  if (!allParts || allParts.length !== 4) {\r\n    throw new TypeError(\"Invalid path '\" + pathString + \"'\");\r\n  }\r\n  return {\r\n    root: allParts[0],\r\n    dir: allParts[0] + allParts[1].slice(0, -1),\r\n    base: allParts[2],\r\n    ext: allParts[3],\r\n    name: allParts[2].slice(0, allParts[2].length - allParts[3].length)\r\n  };\r\n};\r\n\r\n\r\nwin32.sep = '\\\\';\r\nwin32.delimiter = ';';\r\n\r\n\r\n// Split a filename into [root, dir, basename, ext], unix version\r\n// 'root' is just a slash, or nothing.\r\nvar splitPathRe =\r\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\r\nvar posix = {};\r\n\r\n\r\nfunction posixSplitPath(filename) {\r\n  return splitPathRe.exec(filename).slice(1);\r\n}\r\n\r\n\r\n// path.resolve([from ...], to)\r\n// posix version\r\nposix.resolve = function() {\r\n  var resolvedPath = '',\r\n      resolvedAbsolute = false;\r\n\r\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\r\n    var path = (i >= 0) ? arguments[i] : process.cwd();\r\n\r\n    // Skip empty and invalid entries\r\n    if (!util.isString(path)) {\r\n      throw new TypeError('Arguments to path.resolve must be strings');\r\n    } else if (!path) {\r\n      continue;\r\n    }\r\n\r\n    resolvedPath = path + '/' + resolvedPath;\r\n    resolvedAbsolute = path[0] === '/';\r\n  }\r\n\r\n  // At this point the path should be resolved to a full absolute path, but\r\n  // handle relative paths to be safe (might happen when process.cwd() fails)\r\n\r\n  // Normalize the path\r\n  resolvedPath = normalizeArray(resolvedPath.split('/'),\r\n                                !resolvedAbsolute).join('/');\r\n\r\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\r\n};\r\n\r\n// path.normalize(path)\r\n// posix version\r\nposix.normalize = function(path) {\r\n  var isAbsolute = posix.isAbsolute(path),\r\n      trailingSlash = path && path[path.length - 1] === '/';\r\n\r\n  // Normalize the path\r\n  path = normalizeArray(path.split('/'), !isAbsolute).join('/');\r\n\r\n  if (!path && !isAbsolute) {\r\n    path = '.';\r\n  }\r\n  if (path && trailingSlash) {\r\n    path += '/';\r\n  }\r\n\r\n  return (isAbsolute ? '/' : '') + path;\r\n};\r\n\r\n// posix version\r\nposix.isAbsolute = function(path) {\r\n  return path.charAt(0) === '/';\r\n};\r\n\r\n// posix version\r\nposix.join = function() {\r\n  var path = '';\r\n  for (var i = 0; i < arguments.length; i++) {\r\n    var segment = arguments[i];\r\n    if (!util.isString(segment)) {\r\n      throw new TypeError('Arguments to path.join must be strings');\r\n    }\r\n    if (segment) {\r\n      if (!path) {\r\n        path += segment;\r\n      } else {\r\n        path += '/' + segment;\r\n      }\r\n    }\r\n  }\r\n  return posix.normalize(path);\r\n};\r\n\r\n\r\n// path.relative(from, to)\r\n// posix version\r\nposix.relative = function(from, to) {\r\n  from = posix.resolve(from).substr(1);\r\n  to = posix.resolve(to).substr(1);\r\n\r\n  var fromParts = trimArray(from.split('/'));\r\n  var toParts = trimArray(to.split('/'));\r\n\r\n  var length = Math.min(fromParts.length, toParts.length);\r\n  var samePartsLength = length;\r\n  for (var i = 0; i < length; i++) {\r\n    if (fromParts[i] !== toParts[i]) {\r\n      samePartsLength = i;\r\n      break;\r\n    }\r\n  }\r\n\r\n  var outputParts = [];\r\n  for (var i = samePartsLength; i < fromParts.length; i++) {\r\n    outputParts.push('..');\r\n  }\r\n\r\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\r\n\r\n  return outputParts.join('/');\r\n};\r\n\r\n\r\nposix._makeLong = function(path) {\r\n  return path;\r\n};\r\n\r\n\r\nposix.dirname = function(path) {\r\n  var result = posixSplitPath(path),\r\n      root = result[0],\r\n      dir = result[1];\r\n\r\n  if (!root && !dir) {\r\n    // No dirname whatsoever\r\n    return '.';\r\n  }\r\n\r\n  if (dir) {\r\n    // It has a dirname, strip trailing slash\r\n    dir = dir.substr(0, dir.length - 1);\r\n  }\r\n\r\n  return root + dir;\r\n};\r\n\r\n\r\nposix.basename = function(path, ext) {\r\n  var f = posixSplitPath(path)[2];\r\n  // TODO: make this comparison case-insensitive on windows?\r\n  if (ext && f.substr(-1 * ext.length) === ext) {\r\n    f = f.substr(0, f.length - ext.length);\r\n  }\r\n  return f;\r\n};\r\n\r\n\r\nposix.extname = function(path) {\r\n  return posixSplitPath(path)[3];\r\n};\r\n\r\n\r\nposix.format = function(pathObject) {\r\n  if (!util.isObject(pathObject)) {\r\n    throw new TypeError(\r\n        \"Parameter 'pathObject' must be an object, not \" + typeof pathObject\r\n    );\r\n  }\r\n\r\n  var root = pathObject.root || '';\r\n\r\n  if (!util.isString(root)) {\r\n    throw new TypeError(\r\n        \"'pathObject.root' must be a string or undefined, not \" +\r\n        typeof pathObject.root\r\n    );\r\n  }\r\n\r\n  var dir = pathObject.dir ? pathObject.dir + posix.sep : '';\r\n  var base = pathObject.base || '';\r\n  return dir + base;\r\n};\r\n\r\n\r\nposix.parse = function(pathString) {\r\n  if (!util.isString(pathString)) {\r\n    throw new TypeError(\r\n        \"Parameter 'pathString' must be a string, not \" + typeof pathString\r\n    );\r\n  }\r\n  var allParts = posixSplitPath(pathString);\r\n  if (!allParts || allParts.length !== 4) {\r\n    throw new TypeError(\"Invalid path '\" + pathString + \"'\");\r\n  }\r\n  allParts[1] = allParts[1] || '';\r\n  allParts[2] = allParts[2] || '';\r\n  allParts[3] = allParts[3] || '';\r\n\r\n  return {\r\n    root: allParts[0],\r\n    dir: allParts[0] + allParts[1].slice(0, -1),\r\n    base: allParts[2],\r\n    ext: allParts[3],\r\n    name: allParts[2].slice(0, allParts[2].length - allParts[3].length)\r\n  };\r\n};\r\n\r\n\r\nposix.sep = '/';\r\nposix.delimiter = ':';\r\n\r\n\r\nif (isWindows)\r\n  module.exports = win32;\r\nelse /* posix */\r\n  module.exports = posix;\r\n\r\nmodule.exports.posix = posix;\r\nmodule.exports.win32 = win32;\r\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Summary. (bla bla bla)\n *\n * Description. (bla bla bla)\n *\n * @link   github https://github.com/fab77/FITSParser\n * @author Fabrizio Giordano <fabriziogiordano77@gmail.com>\n */\nexport class FITSHeaderItem {\n    constructor(key, value, comment) {\n        this._key = key;\n        this._value = value !== undefined ? value : undefined;\n        this._comment = comment !== undefined ? comment : undefined;\n    }\n    get key() {\n        return this._key;\n    }\n    get comment() {\n        return this._comment;\n    }\n    get value() {\n        return this._value;\n    }\n}\n","/**\n * Summary. (bla bla bla)\n *\n * Description. (bla bla bla)\n *\n * @link   github https://github.com/fab77/FITSParser\n * @author Fabrizio Giordano <fabriziogiordano77@gmail.com>\n */\nexport class ParseUtils {\n    static getStringAt(data, offset, length) {\n        const chars = [];\n        for (let i = offset, j = 0; i < offset + length; i++, j++) {\n            chars[j] = String.fromCharCode(data.charCodeAt(i) & 0xff);\n        }\n        return chars.join(\"\");\n    }\n    static byteString(n) {\n        if (n < 0 || n > 255 || n % 1 !== 0) {\n            throw new Error(n + \" does not fit in a byte\");\n        }\n        return (\"000000000\" + n.toString(2)).substr(-8);\n    }\n    static parse32bitSinglePrecisionFloatingPoint(byte1, byte2, byte3, byte4) {\n        let long = (((((byte1 << 8) + byte2) << 8) + byte3) << 8) + byte4;\n        if (long < 0)\n            long += 4294967296;\n        const float = (1.0 + (long & 0x007fffff) / 0x0800000) *\n            Math.pow(2, ((long & 0x7f800000) >> 23) - 127);\n        return float;\n    }\n    static convertBlankToBytes(blank, nbytes) {\n        let str = Math.abs(blank).toString(2);\n        while (str.length / 8 < nbytes) {\n            str += \"0\";\n        }\n        const buffer = new ArrayBuffer(nbytes);\n        const uint8 = new Uint8Array(buffer);\n        for (let i = 0; i < nbytes; i++) {\n            uint8[i] = parseInt(str.substr(8 * i, 8 * (i + 1)), 2);\n        }\n        return uint8;\n    }\n    /** https://gist.github.com/Manouchehri/f4b41c8272db2d6423fa987e844dd9ac */\n    static parseFloatingPointFormat(bytes, ebits, fbits) {\n        // Bytes to bits\n        const bits = [];\n        for (let i = bytes.length; i; i -= 1) {\n            let byte = bytes[i - 1];\n            for (let j = 8; j; j -= 1) {\n                bits.push(byte % 2 ? 1 : 0);\n                byte = byte >> 1;\n            }\n        }\n        bits.reverse();\n        const str = bits.join(\"\");\n        // Unpack sign, exponent, fraction\n        const bias = (1 << (ebits - 1)) - 1;\n        const s = parseInt(str.substring(0, 1), 2) ? -1 : 1;\n        const e = parseInt(str.substring(1, 1 + ebits), 2);\n        const f = parseInt(str.substring(1 + ebits), 2);\n        // Produce number\n        if (e === (1 << ebits) - 1) {\n            return f !== 0 ? undefined : s * Infinity;\n        }\n        else if (e > 0) {\n            return s * Math.pow(2, e - bias) * (1 + f / Math.pow(2, fbits));\n        }\n        else if (f !== 0) {\n            return s * Math.pow(2, -(bias - 1)) * (f / Math.pow(2, fbits));\n        }\n        else {\n            return s * 0;\n        }\n    }\n    static generate16bit2sComplement(val) {\n        throw new TypeError(\"not implemented yet\" + val);\n    }\n    static parse16bit2sComplement(byte1, byte2) {\n        const unsigned = (byte1 << 8) | byte2;\n        if (unsigned & 0x8000) {\n            return unsigned | 0xffff0000;\n        }\n        else {\n            return unsigned;\n        }\n    }\n    static parse32bit2sComplement(byte1, byte2, byte3, byte4) {\n        const unsigned = (byte1 << 24) | (byte2 << 16) | (byte3 << 8) | byte4;\n        const s = (unsigned & 0x80000000) >> 31;\n        let res = unsigned & 0xffffffff;\n        if (s) {\n            res = (~unsigned & 0xffffffff) + 1;\n            return -1 * res;\n        }\n        return res;\n    }\n    /**\n     *\n     * @param {*} data string?\n     * @param {*} offset offset in the data\n     * @returns returns an integer between 0 and 65535 representing the UTF-16 code unit at the given index.\n     */\n    static getByteAt(data, offset) {\n        const dataOffset = 0;\n        return data.charCodeAt(offset + dataOffset) & 0xff;\n    }\n    static extractPixelValue(offset, bytes, bitpix) {\n        let px_val = undefined; // pixel value\n        // let px_val1, px_val2, px_val3, px_val4;\n        if (bitpix == 16) {\n            // 16-bit 2's complement binary integer\n            px_val = ParseUtils.parse16bit2sComplement(bytes[offset], bytes[offset + 1]);\n        }\n        else if (bitpix == 32) {\n            // IEEE 754 half precision (float16) ??\n            px_val = ParseUtils.parse32bit2sComplement(bytes[offset], bytes[offset + 1], bytes[offset + 2], bytes[offset + 3]);\n        }\n        else if (bitpix == -32) {\n            // 32-bit IEEE single-precision floating point\n            // px_val = ParseUtils.parse32bitSinglePrecisionFloatingPoint (this._u8data[offset], this._u8data[offset+1], this._u8data[offset+2], this._u8data[offset+3]);\n            px_val = ParseUtils.parseFloatingPointFormat(bytes.slice(offset, offset + 8), 8, 23);\n        }\n        else if (bitpix == 64) {\n            // 64-bit 2's complement binary integer\n            throw new Error(\"BITPIX=64 -> 64-bit 2's complement binary integer NOT supported yet.\");\n        }\n        else if (bitpix == -64) {\n            // 64-bit IEEE double-precision floating point\n            //https://babbage.cs.qc.cuny.edu/ieee-754.old/Decimal.html\n            px_val = ParseUtils.parseFloatingPointFormat(bytes.slice(offset, offset + 8), 11, 52);\n        }\n        return px_val;\n    }\n}\n// export default ParseUtils;\n","/**\n * Summary. (bla bla bla)\n *\n * Description. (bla bla bla)\n *\n * @link   github https://github.com/fab77/fitsontheweb\n * @author Fabrizio Giordano <fabriziogiordano77@gmail.com>\n * import GnomonicProjection from './GnomonicProjection';\n * BITPIX definition from https://archive.stsci.edu/fits/fits_standard/node39.html\n * and \"Definition of the Flexible Image Transport System (FITS)\" standard document\n * defined by FITS Working Group from the International Astronomical Union\n * http://fits.gsfc.nasa.gov/iaufwg/\n * 8\t8-bit Character or unsigned binary integer\n * 16\t16-bit twos-complement binary integer\n * 32\t32-bit twos-complement binary integer\n * -32\t32-bit IEEE single precision floating point\n * -64\t64-bit IEEE double precision floating point\n *\n */\n// import { Blob } from 'buffer';\nimport * as fs from \"fs\";\nimport { FITSHeaderItem } from \"./model/FITSHeaderItem\";\nimport { ParseUtils } from \"./ParseUtils\";\nimport * as path from 'path';\nexport class FITSWriter {\n    // constructor () {}\n    run(header, rawdata) {\n        this.prepareHeader(header);\n        this._payloadArray = rawdata;\n        this.prepareFITS();\n    }\n    prepareHeader(headerDetails) {\n        const item = new FITSHeaderItem(\"END\", null, null);\n        headerDetails.addItem(item);\n        let str = \"\";\n        for (let i = 0; i < headerDetails.getItemList().length; i++) {\n            const item = headerDetails.getItemList()[i];\n            str += this.formatHeaderLine(item.key, item.value, item.comment);\n        }\n        const strBytelen = new TextEncoder().encode(str).length;\n        const nhdu = Math.ceil(strBytelen / 2880);\n        const offset = nhdu * 2880;\n        for (let j = 0; j < offset - strBytelen; j++) {\n            str += \" \";\n        }\n        const ab = new ArrayBuffer(str.length);\n        // Javascript character occupies 2 16-bit -> reducing it to 1 byte\n        this._headerArray = new Uint8Array(ab);\n        for (let i = 0; i < str.length; i++) {\n            this._headerArray[i] = ParseUtils.getByteAt(str, i);\n        }\n    }\n    formatHeaderLine(keyword, value, comment) {\n        let str;\n        if (keyword !== null && keyword !== undefined) {\n            str = keyword;\n            if (keyword == \"END\") {\n                for (let j = 80; j > keyword.length; j--) {\n                    str += \" \";\n                }\n                return str;\n            }\n            if (keyword == \"COMMENT\" || keyword == \"HISTORY\") {\n                for (let i = 0; i < 10 - keyword.length; i++) {\n                    str += \" \";\n                }\n                str += value;\n                const len = str.length;\n                for (let j = 80; j > len; j--) {\n                    str += \" \";\n                }\n                return str;\n            }\n            for (let i = 0; i < 8 - keyword.length; i++) {\n                str += \" \";\n            }\n            str += \"= \";\n            if (value !== null && value !== undefined) {\n                // value\n                str += value;\n                if (comment !== null && comment !== undefined) {\n                    str += comment;\n                }\n                const len = str.length;\n                for (let j = 80; j > len; j--) {\n                    str += \" \";\n                }\n            }\n            else {\n                if (comment !== null && comment !== undefined) {\n                    str += comment;\n                }\n                const len = str.length;\n                for (let j = 80; j > len; j--) {\n                    str += \" \";\n                }\n            }\n        }\n        else {\n            // keyword null\n            str = \"\";\n            for (let j = 0; j < 18; j++) {\n                str += \" \";\n            }\n            if (comment !== null && comment !== undefined) {\n                str += comment;\n                const len = str.length;\n                for (let j = 80; j > len; j--) {\n                    str += \" \";\n                }\n            }\n            else {\n                str = \"\";\n                for (let j = 80; j > 0; j--) {\n                    str += \" \";\n                }\n            }\n        }\n        return str;\n    }\n    prepareFITS() {\n        const bytes = new Uint8Array(this._headerArray.length +\n            this._payloadArray[0].length * this._payloadArray.length);\n        bytes.set(this._headerArray, 0);\n        for (let i = 0; i < this._payloadArray.length; i++) {\n            const uint8 = this._payloadArray[i];\n            bytes.set(uint8, this._headerArray.length + i * uint8.length);\n        }\n        this._fitsData = bytes;\n    }\n    writeFITS(fileuri) {\n        const dirname = path.dirname(fileuri);\n        fs.mkdir(dirname, { recursive: true }, (err) => {\n            if (err)\n                throw err;\n        });\n        if (fs.existsSync(dirname)) {\n            fs.writeFileSync(fileuri, this._fitsData);\n        }\n        else {\n            console.error(dirname + \" doesn't exist\");\n        }\n    }\n    typedArrayToURL() {\n        // return URL.createObjectURL(new Blob([this._fitsData.buffer], {type: 'application/fits'}));\n        const b = new Blob([this._fitsData], { type: \"application/fits\" });\n        return URL.createObjectURL(b);\n    }\n}\n","// \"use strict\";\nimport { FITSHeaderItem } from \"./model/FITSHeaderItem\";\nimport { ParseUtils } from \"./ParseUtils\";\n// let colorsMap = new Map();\n// colorsMap.set(\"grayscale\",\"grayscale\");\n// colorsMap.set(\"planck\",\"planck\");\n// colorsMap.set(\"eosb\",\"eosb\");\n// colorsMap.set(\"rainbow\",\"rainbow\");\n// colorsMap.set(\"cmb\",\"cmb\");\n// colorsMap.set(\"cubehelix\",\"cubehelix\");\nexport class ParsePayload {\n    constructor(fitsheader, rawdata) {\n        // let offset = fitsheader.offset;\n        const buffer = rawdata.slice(fitsheader.offset);\n        this._u8data = new Uint8Array(buffer);\n        // this._u8data = new Uint8Array(rawdata, 2880);\n        // console.log(this._u8data.byteOffset);\n        this.init(fitsheader);\n    }\n    init(fitsheader) {\n        this._BZERO = fitsheader.get(\"BZERO\");\n        if (this._BZERO === undefined) {\n            this._BZERO = 0;\n        }\n        this._BSCALE = fitsheader.get(\"BSCALE\");\n        if (this._BSCALE === undefined) {\n            this._BSCALE = 1;\n        }\n        this._BLANK = fitsheader.get(\"BLANK\"); // undefined in case it's not present in the header\n        // this._BLANK_pv = this._BZERO + this._BSCALE * this._BLANK || undefined;\n        this._BITPIX = fitsheader.get(\"BITPIX\");\n        this._NAXIS1 = fitsheader.get(\"NAXIS1\");\n        this._NAXIS2 = fitsheader.get(\"NAXIS2\");\n        this._DATAMIN = fitsheader.get(\"DATAMIN\");\n        this._DATAMAX = fitsheader.get(\"DATAMAX\");\n        this._physicalblank = undefined;\n        if (this._DATAMAX === undefined || this._DATAMIN === undefined) {\n            const [min, max] = this.computePhysicalMinAndMax();\n            this._DATAMAX = max;\n            this._DATAMIN = min;\n            const maxitem = new FITSHeaderItem(\"DATAMAX\", max, \" / computed with FITSParser\");\n            const minitem = new FITSHeaderItem(\"DATAMIN\", min, \" / computed with FITSParser\");\n            fitsheader.addItem(maxitem);\n            fitsheader.addItem(minitem);\n            // fitsheader.set(\"DATAMAX\", max);\n            // fitsheader.set(\"DATAMIN\", min);\n        }\n        // let item = new FITSHeaderItem(\"END\", null, null);\n        // fitsheader.addItem(item);\n    }\n    computePhysicalMinAndMax() {\n        let i = 0;\n        const bytesXelem = Math.abs(this._BITPIX / 8);\n        const pxLength = this._u8data.byteLength / bytesXelem;\n        let px_val, ph_val;\n        let min = undefined;\n        let max = undefined;\n        if (this._BLANK !== undefined) {\n            this._physicalblank = this.pixel2physicalValue(this._BLANK);\n        }\n        while (i < pxLength) {\n            // px_val = this.extractPixelValue(bytesXelem*i);\n            px_val = this.extractPixelValue(bytesXelem * i);\n            ph_val = this.pixel2physicalValue(px_val);\n            //TODO check below if\n            if (this._physicalblank === undefined || this._physicalblank !== ph_val) {\n                if (ph_val !== undefined && (ph_val < min || min === undefined)) {\n                    min = ph_val;\n                }\n                if (ph_val !== undefined && (ph_val > max || max === undefined)) {\n                    max = ph_val;\n                }\n            }\n            i++;\n        }\n        return [min, max];\n    }\n    parse() {\n        // let px_val; // pixel array value\n        // let ph_val = undefined; // pixel physical value\n        const bytesXelem = Math.abs(this._BITPIX / 8);\n        let pxLength = this._u8data.byteLength / bytesXelem;\n        pxLength = this._NAXIS1 * this._NAXIS2;\n        let k = 0;\n        let c, r;\n        const pixelvalues = [];\n        //  let pixv, pv;\n        while (k < pxLength) {\n            r = Math.floor(k / this._NAXIS1); // row\n            c = (k - r * this._NAXIS1) * bytesXelem; // col\n            if (c === 0) {\n                pixelvalues[r] = new Uint8Array(this._NAXIS1 * bytesXelem);\n            }\n            // px_val = this.extractPixelValue(bytesXelem * k);\n            // ph_val = this.pixel2physicalValue(px_val);\n            // TODO check if ph_val == blank\n            // if not then use ph_val to compute datamin and datamax\n            for (let i = 0; i < bytesXelem; i++) {\n                pixelvalues[r][c + i] = this._u8data[k * bytesXelem + i];\n            }\n            // if (k == 232) {\n            // \tpixv = this.extractPixelValue(k * bytesXelem);\n            // \tpv = this._BZERO + this._BSCALE * pixv;\n            // }\n            k++;\n        }\n        return pixelvalues;\n    }\n    /** this can be deleted */\n    extractPixelValue(offset) {\n        let px_val = undefined; // pixel value\n        if (this._BITPIX == 16) {\n            // 16-bit 2's complement binary integer\n            px_val = ParseUtils.parse16bit2sComplement(this._u8data[offset], this._u8data[offset + 1]);\n        }\n        else if (this._BITPIX == 32) {\n            // IEEE 754 half precision (float16) ??\n            px_val = ParseUtils.parse32bit2sComplement(this._u8data[offset], this._u8data[offset + 1], this._u8data[offset + 2], this._u8data[offset + 3]);\n        }\n        else if (this._BITPIX == -32) {\n            // 32-bit IEEE single-precision floating point\n            // px_val = ParseUtils.parse32bitSinglePrecisionFloatingPoint (this._u8data[offset], this._u8data[offset+1], this._u8data[offset+2], this._u8data[offset+3]);\n            px_val = ParseUtils.parseFloatingPointFormat(this._u8data.slice(offset, offset + 4), 8, 23);\n        }\n        else if (this._BITPIX == 64) {\n            // 64-bit 2's complement binary integer\n            throw new Error(\"BITPIX=64 -> 64-bit 2's complement binary integer NOT supported yet.\");\n        }\n        else if (this._BITPIX == -64) {\n            // 64-bit IEEE double-precision floating point\n            //https://babbage.cs.qc.cuny.edu/ieee-754.old/Decimal.html\n            px_val = ParseUtils.parseFloatingPointFormat(this._u8data.slice(offset, offset + 8), 11, 52);\n        }\n        return px_val;\n    }\n    pixel2physicalValue(pxval) {\n        if (pxval !== undefined) {\n            return this._BZERO + this._BSCALE * pxval;\n        }\n        return undefined;\n    }\n}\n","/**\n * Summary. (bla bla bla)\n *\n * Description. (bla bla bla)\n *\n * @link   github https://github.com/fab77/FITSParser\n * @author Fabrizio Giordano <fabriziogiordano77@gmail.com>\n */\n// reference FTIS standard doc https://heasarc.gsfc.nasa.gov/docs/fcg/standard_dict.html\nexport class FITSHeader extends Map {\n    constructor() {\n        super();\n        this._items = [];\n    }\n    set offset(offset) {\n        this._offset = offset;\n    }\n    get offset() {\n        return this._offset;\n    }\n    getItemList() {\n        return this._items;\n    }\n    getItemListOf(key) {\n        const res = [];\n        for (let i = 0; i < this._items.length; i++) {\n            const item = this._items[i];\n            if (item.key == key) {\n                res.push(item);\n            }\n        }\n        return res;\n    }\n    addItemAtTheBeginning(item) {\n        if ([\n            \"SIMPLE\",\n            \"BITPIX\",\n            \"NAXIS\",\n            \"NAXIS1\",\n            \"NAXIS2\",\n            \"BLANK\",\n            \"BZERO\",\n            \"BSCALE\",\n            \"DATAMIN\",\n            \"DATAMAX\",\n            \"NPIX\",\n            \"ORDER\",\n            \"CRPIX1\",\n            \"CRPIX2\",\n            \"CDELT1\",\n            \"CDELT2\",\n        ].includes(item.key)) {\n            this.set(item.key, item.value);\n        }\n        const newitemlist = [item].concat(this._items);\n        this._items = newitemlist;\n    }\n    addItem(item) {\n        if ([\n            \"SIMPLE\",\n            \"BITPIX\",\n            \"NAXIS\",\n            \"NAXIS1\",\n            \"NAXIS2\",\n            \"BLANK\",\n            \"BZERO\",\n            \"BSCALE\",\n            \"DATAMIN\",\n            \"DATAMAX\",\n            \"NPIX\",\n            \"ORDER\",\n            \"CRPIX1\",\n            \"CRPIX2\",\n            \"CDELT1\",\n            \"CDELT2\",\n        ].includes(item.key)) {\n            this.set(item.key, item.value);\n        }\n        this._items.push(item);\n    }\n    getNumRows() {\n        return this._items.length;\n    }\n}\n","import { FITSHeader } from \"./model/FITSHeader\";\nimport { FITSHeaderItem } from \"./model/FITSHeaderItem\";\n/**\n * Summary. (bla bla bla)\n *\n * Description. (bla bla bla)\n *\n * @link   github https://github.com/fab77/FITSParser\n * @author Fabrizio Giordano <fabriziogiordano77@gmail.com>\n */\nexport class ParseHeader {\n    static parse(rawdata) {\n        // only one header block (2880) allowed atm.\n        // TODO handle multiple header blocks\n        // let headerByteData = new Uint8Array(rawdata, 0, 2880);\n        const textDecoder = new TextDecoder(\"iso-8859-1\");\n        const header = new FITSHeader();\n        let nline = 0;\n        let key = \"\";\n        let val;\n        let u8line;\n        let u8key;\n        let u8val;\n        let u8ind;\n        // let ind: string;\n        let item;\n        let fitsLine;\n        while (key !== \"END\") {\n            // line 80 characters\n            u8line = new Uint8Array(rawdata.slice(nline * 80, nline * 80 + 80));\n            nline++;\n            // key\n            u8key = new Uint8Array(u8line.slice(0, 8));\n            key = textDecoder.decode(u8key).trim();\n            // value indicator\n            u8ind = new Uint8Array(u8line.slice(8, 10));\n            // ind = textDecoder.decode(u8ind);\n            // reading value\n            u8val = new Uint8Array(u8line.slice(10, 80));\n            val = textDecoder.decode(u8val).trim();\n            if (u8ind[0] == 61 && u8ind[1] == 32) {\n                let firstchar = 32;\n                for (let i = 0; i < u8val.length; i++) {\n                    if (u8val[i] != 32) {\n                        firstchar = u8val[i];\n                        break;\n                    }\n                }\n                if (firstchar == 39) {\n                    // value starts with '\n                    // [ival, icomment]\n                    fitsLine = ParseHeader.parseStringValue(u8val);\n                }\n                else {\n                    if (firstchar == 84 || firstchar == 70) {\n                        // T or F\n                        fitsLine = ParseHeader.parseLogicalValue(u8val);\n                    }\n                    else {\n                        val = textDecoder.decode(u8val).trim();\n                        if (val.includes(\".\")) {\n                            fitsLine = ParseHeader.parseFloatValue(u8val);\n                        }\n                        else {\n                            fitsLine = ParseHeader.parseIntValue(u8val);\n                        }\n                    }\n                }\n                item = new FITSHeaderItem(key, fitsLine.val, fitsLine.comment);\n            }\n            else {\n                if (key == \"COMMENT\" || key == \"HISTORY\") {\n                    item = new FITSHeaderItem(key, null, val);\n                }\n                else {\n                    let firstchar = 32;\n                    for (let i = 0; i < u8val.length; i++) {\n                        if (u8val[i] != 32) {\n                            firstchar = u8val[i];\n                            break;\n                        }\n                    }\n                    if (firstchar == 47) {\n                        // single / this is the case when no key nor value indicator is defined\n                        item = new FITSHeaderItem(null, null, val);\n                    }\n                    else if (firstchar == 32) {\n                        // case when there's a line with only spaces\n                        item = new FITSHeaderItem(null, null, null);\n                    }\n                }\n            }\n            header.addItem(item);\n        }\n        item = new FITSHeaderItem(\"COMMENT\", \"FITS generated with FITSParser on \", null);\n        header.addItem(item);\n        const now = new Date();\n        item = new FITSHeaderItem(\"COMMENT\", now.toString(), null);\n        header.addItem(item);\n        const nblock = Math.ceil(nline / 36);\n        const offset = nblock * 2880;\n        header.offset = offset;\n        return header;\n    }\n    static parseStringValue(u8buffer) {\n        const textDecoder = new TextDecoder(\"iso-8859-1\");\n        const decoded = textDecoder.decode(u8buffer).trim();\n        const idx = decoded.lastIndexOf(\"/\");\n        const val = decoded.substring(0, idx);\n        let comment = decoded.substring(idx);\n        if (comment === undefined) {\n            comment = null;\n        }\n        return {\n            val: val,\n            comment: comment,\n        };\n    }\n    static parseLogicalValue(u8buffer) {\n        const textDecoder = new TextDecoder(\"iso-8859-1\");\n        const val = textDecoder.decode(u8buffer).trim();\n        const tokens = val.split(\"/\");\n        if (tokens[1] === undefined) {\n            return {\n                val: tokens[0].trim(),\n                comment: null,\n            };\n        }\n        return {\n            val: tokens[0].trim(),\n            comment: \" /\" + tokens[1],\n        };\n    }\n    static parseIntValue(u8buffer) {\n        const textDecoder = new TextDecoder(\"iso-8859-1\");\n        const val = textDecoder.decode(u8buffer).trim();\n        const tokens = val.split(\"/\");\n        if (tokens[1] === undefined) {\n            return {\n                val: parseInt(tokens[0].trim()),\n                comment: null,\n            };\n        }\n        return {\n            val: parseInt(tokens[0].trim()),\n            comment: \" /\" + tokens[1],\n        };\n    }\n    static parseFloatValue(u8buffer) {\n        const textDecoder = new TextDecoder(\"iso-8859-1\");\n        const val = textDecoder.decode(u8buffer).trim();\n        const tokens = val.split(\"/\");\n        if (tokens[1] === undefined) {\n            return {\n                val: parseFloat(tokens[0].trim()),\n                comment: null,\n            };\n        }\n        return {\n            val: parseFloat(tokens[0].trim()),\n            comment: \" /\" + tokens[1],\n        };\n    }\n}\n","/**\n\n * @link   github https://github.com/fab77/FITSParser\n * @author Fabrizio Giordano <fabriziogiordano77@gmail.com>\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { FITSWriter } from \"./FITSWriter\";\nimport { ParsePayload } from \"./ParsePayload\";\nimport { ParseHeader } from \"./ParseHeader\";\nimport { readFile } from \"fs/promises\";\nimport fetch from \"node-fetch\";\nexport class FITSParser {\n    constructor(url) {\n        this._url = url;\n    }\n    loadFITS() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.getFile(this._url)\n                .then((rawdata) => {\n                if (rawdata !== null) {\n                    const uint8 = new Uint8Array(rawdata);\n                    const fits = this.processFits(uint8);\n                    return fits;\n                }\n                return null;\n            })\n                .catch((error) => {\n                var _a, _b;\n                if ((_b = (_a = error === null || error === void 0 ? void 0 : error.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.message) {\n                    throw new Error(\"[FITSParser->loadFITS] \" + error.response.data.message);\n                }\n                throw error;\n            });\n        });\n    }\n    processFits(rawdata) {\n        const header = ParseHeader.parse(rawdata);\n        const payloadParser = new ParsePayload(header, rawdata);\n        const pixelvalues = payloadParser.parse();\n        // if (rawdata.length > (header.getNumRows() + (pixelvalues.length * pixelvalues[0].length))) {\n        // let leftover = rawdata.length - (header.getNumRows() + (pixelvalues.length * pixelvalues[0].length));\n        // \tthrow new Error(\"[FITSParser->processFits] It seems that there's at least one more HDU since there are \" + leftover + \" bytes not processed.\");\n        // \tconsole.warn(\"It seems that there's at least one more HDU since there are \" + leftover + \" bytes not processed.\")\n        // }\n        return {\n            header: header,\n            data: pixelvalues,\n        };\n    }\n    static writeFITS(header, rawdata, fileuri) {\n        const writer = new FITSWriter();\n        writer.run(header, rawdata);\n        writer.writeFITS(fileuri);\n    }\n    getFile(uri) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!uri.substring(0, 5).toLowerCase().includes(\"http\")) {\n                // local file\n                const promise = yield readFile(uri);\n                return promise;\n            }\n            else if (typeof window !== \"undefined\") {\n                // browser\n                const data = yield window\n                    .fetch(uri, {\n                    method: \"GET\",\n                    mode: \"cors\",\n                    headers: {\n                        Accept: \"image/fits\",\n                        \"Content-Type\": \"image/fits\",\n                        \"Access-Control-Allow-Origin\": \"*\",\n                    },\n                })\n                    .then((res) => {\n                    if (!res.ok) {\n                        throw new Error(\"File not loaded. HTTP error: \" +\n                            res.status +\n                            \" \" +\n                            res.statusText);\n                    }\n                    else {\n                        return res.arrayBuffer();\n                    }\n                })\n                    .catch(function (err) {\n                    throw new Error(\"[FITSParser->getFile] \" + err.response.data.message);\n                });\n                return data;\n            }\n            else {\n                // node\n                const data = yield fetch(uri, {\n                    method: \"GET\",\n                    headers: {\n                        Accept: \"image/fits\",\n                        \"Content-Type\": \"image/fits\",\n                        \"Access-Control-Allow-Origin\": \"*\",\n                    },\n                })\n                    .then((res) => {\n                    if (!res.ok) {\n                        if (res.status == 404) {\n                            return null;\n                        }\n                        else {\n                            throw new Error(\"File not loaded. HTTP error: \" +\n                                res.status +\n                                \" \" +\n                                res.statusText);\n                        }\n                    }\n                    else {\n                        return res.arrayBuffer();\n                    }\n                })\n                    .catch((error) => {\n                    var _a, _b;\n                    if ((_b = (_a = error === null || error === void 0 ? void 0 : error.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.message) {\n                        throw new Error(\"[FITSParser->getFile] \" + error.response.data.message);\n                    }\n                    throw error;\n                });\n                return data;\n            }\n        });\n    }\n}\n","import { FITSParser } from \"./FITSParser\";\nexport default FITSioAPI = function (url) {\n    const fp = new FITSParser(url);\n    return fp.loadFITS();\n};\nexport { FITSHeaderItem } from \"./model/FITSHeaderItem\";\nexport { FITSHeader } from \"./model/FITSHeader\";\nexport { FITSParser } from \"./FITSParser\";\nexport { FITSWriter } from \"./FITSWriter\";\nexport { ParseHeader } from \"./ParseHeader\";\nexport { ParsePayload } from \"./ParsePayload\";\nexport { ParseUtils } from \"./ParseUtils\";\n"],"names":["global","self","window","Error","getGlobal","module","exports","fetch","bind","Headers","Request","Response","isWindows","process","platform","util","normalizeArray","parts","allowAboveRoot","res","i","length","p","pop","push","trimArray","arr","lastIndex","start","end","slice","splitDeviceRe","splitTailRe","win32","win32SplitPath","filename","result","exec","device","tail","result2","win32StatPath","path","isUnc","isAbsolute","normalizeUNCRoot","replace","resolve","resolvedDevice","resolvedTail","resolvedAbsolute","arguments","env","substr","toLowerCase","cwd","isString","TypeError","split","join","normalize","trailingSlash","test","paths","arg","joined","relative","from","to","lowerFrom","lowerTo","toParts","lowerFromParts","lowerToParts","Math","min","samePartsLength","outputParts","concat","_makeLong","resolvedPath","substring","dirname","root","dir","basename","ext","f","extname","format","pathObject","isObject","base","sep","parse","pathString","allParts","name","delimiter","splitPathRe","posix","posixSplitPath","charAt","segment","fromParts","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","e","call","this","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","args","Array","prototype","apply","title","browser","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","chdir","umask","Object","create","ctor","superCtor","super_","constructor","value","enumerable","writable","configurable","TempCtor","copy","fill","readUInt8","formatRegExp","objects","inspect","str","String","x","Number","JSON","stringify","_","isNull","deprecate","fn","msg","isUndefined","g","noDeprecation","warned","throwDeprecation","traceDeprecation","console","trace","error","debugEnviron","debugs","obj","opts","ctx","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styleType","style","styles","recurseTimes","isFunction","ret","primitive","simple","isNumber","formatPrimitive","keys","visibleKeys","hash","forEach","val","idx","arrayToHash","getOwnPropertyNames","isError","indexOf","formatError","isRegExp","RegExp","toString","isDate","Date","output","braces","isArray","toUTCString","l","hasOwnProperty","formatProperty","key","match","formatArray","map","reduce","prev","cur","reduceToSingleString","desc","getOwnPropertyDescriptor","get","set","line","ar","re","objectToString","d","o","pad","n","debuglog","NODE_DEBUG","toUpperCase","pid","isNullOrUndefined","isSymbol","isPrimitive","isBuffer","months","timestamp","time","getHours","getMinutes","getSeconds","getDate","getMonth","prop","log","inherits","origin","add","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","__esModule","a","definition","defineProperty","globalThis","Function","r","Symbol","toStringTag","FITSHeaderItem","comment","_key","_value","_comment","ParseUtils","static","data","offset","chars","j","fromCharCode","charCodeAt","byte1","byte2","byte3","byte4","long","pow","blank","nbytes","abs","buffer","ArrayBuffer","uint8","Uint8Array","parseInt","bytes","ebits","fbits","bits","byte","reverse","bias","s","Infinity","unsigned","bitpix","px_val","parse16bit2sComplement","parse32bit2sComplement","parseFloatingPointFormat","FITSWriter","header","rawdata","prepareHeader","_payloadArray","prepareFITS","headerDetails","item","addItem","getItemList","formatHeaderLine","strBytelen","TextEncoder","encode","ceil","ab","_headerArray","getByteAt","keyword","_fitsData","writeFITS","fileuri","recursive","err","typedArrayToURL","b","Blob","type","URL","createObjectURL","ParsePayload","fitsheader","_u8data","init","_BZERO","_BSCALE","_BLANK","_BITPIX","_NAXIS1","_NAXIS2","_DATAMIN","_DATAMAX","_physicalblank","max","computePhysicalMinAndMax","maxitem","minitem","bytesXelem","pxLength","byteLength","ph_val","pixel2physicalValue","extractPixelValue","c","k","pixelvalues","floor","pxval","FITSHeader","Map","super","_items","_offset","getItemListOf","addItemAtTheBeginning","includes","newitemlist","getNumRows","ParseHeader","textDecoder","TextDecoder","u8line","u8key","u8val","u8ind","fitsLine","nline","decode","trim","firstchar","parseStringValue","parseLogicalValue","parseFloatValue","parseIntValue","now","u8buffer","decoded","lastIndexOf","tokens","parseFloat","__awaiter","thisArg","_arguments","P","generator","Promise","reject","fulfilled","step","next","rejected","done","then","FITSParser","url","_url","loadFITS","getFile","processFits","catch","_a","_b","response","message","writer","uri","method","mode","headers","Accept","ok","arrayBuffer","status","statusText","readFile","FITSioAPI"],"sourceRoot":""}